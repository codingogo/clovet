<%= link_to "Home", root_path %>

  <div id="viewport">
    <ul class="stack" id="img-source">
      <li class="spades">
         <img src="<%= @item.image_url400 %>" alt="">
          
          <div class="yes"></div>
          <div class="no"></div>
      </li>
    </ul>
  </div>  

<div id="item-details">
  <p><%= @item.name %></p>
  <p>$<%= @item.price %> AUD</p>
</div>

<%= render 'items/history' %>
<%= render 'items/color' %>


<<<<<<< HEAD
<%= form_tag create_history_path, :method => 'post', :id => "liked" do %>
<%= hidden_field_tag 'item_id', @item.id %>
<%= hidden_field_tag 'liked', 'true'  %>
<%= hidden_field_tag 'clicked_through', 'false'  %>
<%= hidden_field_tag 'next_item', @next_item.id  %>
<%= submit_tag 'liked', :id=> 'liked_submit'%>
<% end %>


<%= form_tag create_history_path, :method => 'post', :id => "disliked" do %>
<%= hidden_field_tag 'item_id', @item.id %>
<%= hidden_field_tag 'liked', 'false'  %>
<%= hidden_field_tag 'clicked_through', 'false'  %>
<%= hidden_field_tag 'next_item', @next_item.id  %>
<%= submit_tag 'disliked', :id=> 'disliked_submit' %>
<% end %>

<%= form_tag create_history_from_buy_path, :method => 'post', :target => '_blank' do %>
<%= hidden_field_tag 'item_id', @item.id %>
<%= hidden_field_tag 'liked', 'true'  %>
<%= hidden_field_tag 'clicked_through', 'true'  %>
<%= hidden_field_tag 'next_item', @next_item.id  %>
<%= submit_tag 'buy', :id=> 'buy_submit' %>
<% end %>
=======



>>>>>>> 8cbb8e2... adding color


<p><%= @liked_items  %></p>

<!--================= move below to javascript file ===========================-->
<script>
  
var swingIt = function(){

    var stack = gajus.Swing.Stack(),
        cardElement = document.querySelector('.stack li'),
        throwOutConfidenceBind = document.querySelector('#throw-out-confidence-bind'),
        directionBind = document.querySelector('#direction-bind'),
        throwOutConfidenceElements = {};

    window.card = stack.createCard(cardElement);

    stack.on('dragstart', function (e) {
        throwOutConfidenceElements.yes = e.target.querySelector('.yes').style;
        throwOutConfidenceElements.no  = e.target.querySelector('.no').style;
    });

    stack.on('dragmove', function (e) {
        throwOutConfidenceElements[e.throwDirection == gajus.Swing.Card.DIRECTION_RIGHT ? 'yes' : 'no'].opacity = e.throwOutConfidence;

        
    });

    stack.on('dragend', function (e) {
        if (e.throwOutConfidence != 1) {
            throwOutConfidenceElements.yes.opacity = 0;
            throwOutConfidenceElements.no.opacity  = 0;
        }
    });

    stack.on('throwoutleft', function() {
      $("#disliked").submit()
    });

    stack.on('throwoutright', function(){
      $('#liked').submit()
    })
    
}; // ends swingIt

    swingIt();


</script>

